---
title: "Data analysis"
format: html
---

# Reading and setup

## Libraries and setup
```{python}
import os
import sys
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import warnings
from scipy.stats import spearmanr
from functions import calculate_spearman_coefficient

# Set the default style
sys.path.append(os.getcwd()) # Add the current working directory to the path
# warnings.filterwarnings('ignore')
```

## Reading The Data
```{python}
# Read the dataset
csv_path = os.path.join('cancer_probabilities_encoded.csv')
df = pd.read_csv(csv_path)
```

# Data Analysis

## Spermans Correlation Coefficient
```{python}
# Calculate the Spearman's rank correlation coefficient for all columns except 'probability_of_cancer'
results = {}
for column in df.columns:
    if column != 'probability_of_cancer':
        spearman_coefficient, p_value = calculate_spearman_coefficient(df, column)
        results[column] = {'Spearman Coefficient': spearman_coefficient, 'p-value': p_value}

# Convert the results to a DataFrame for better visualization
spearman_df = pd.DataFrame(results).T
spearman_df
```

## Correlation visualization
```{python}

```